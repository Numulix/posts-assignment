<div class="box" style="margin: 10px">
  <p class="title is-4">New Post</p>
  <form #postForm="ngForm" (ngSubmit)="onSubmit()">
    <div class="field">
      <label class="label">Title</label>
      <div class="control">
        <input
          type="text"
          class="input"
          name="title"
          ngModel
          #titleInput="ngModel"
          required
          minlength="5"
          [ngClass]="{
            'is-danger':
              !titleInput.valid && (titleInput.dirty || titleInput.touched)
          }"
          placeholder="Your post title"
        />
        <div *ngIf="!titleInput.valid && (titleInput.dirty || titleInput.touched)">
          <p class="help is-danger" *ngIf="titleInput.errors?.required">
            Post title is required
          </p>
          <p class="help is-danger" *ngIf="titleInput.errors?.minlength">
            Post title must contain at least 5 characters
          </p>
        </div>
      </div>
    </div>
    <div class="field">
      <label class="label">Body</label>
      <div class="control">
        <textarea
          class="textarea"
          name="body"
          ngModel
          #bodyArea="ngModel"
          required
          minlength="10"
          [ngClass]="{
            'is-danger':
              !bodyArea.valid && (bodyArea.dirty || bodyArea.touched)
          }"
          placeholder="Your post body"
        ></textarea>
        <div *ngIf="!bodyArea.valid && (bodyArea.dirty || bodyArea.touched)">
          <p class="help is-danger" *ngIf="bodyArea.errors?.required">
            Post body is required
          </p>
          <p class="help is-danger" *ngIf="bodyArea.errors?.minlength">
            Post body must contain at least 10 characters
          </p>
        </div>
      </div>
    </div>
    <div class="control">
      <button type="submit" [disabled]="!postForm.valid" class="button is-link">
        Submit
      </button>
    </div>
  </form>
</div>
